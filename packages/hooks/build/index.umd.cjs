(function(o,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],n):(o=typeof globalThis<"u"?globalThis:o||self,n(o.hooks={},o.react))})(this,(function(o,n){"use strict";function d(e){const[r,s]=n.useState(null);return n.useEffect(()=>{"requestIdleCallback"in window?requestIdleCallback(async()=>{try{const t=await e();s(()=>t.default)}catch(t){throw console.log("useDeferedComponent: ",t),new Error("useDeferedComponent: "+t)}},{timeout:100}):setTimeout(async()=>{try{const t=await e();s(()=>t.default)}catch(t){throw console.log("useDeferedComponent: ",t),new Error("useDeferedComponent: "+t)}},1)},[]),r}var m=Object.defineProperty,h=(e,r,s)=>r in e?m(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,f=(e,r,s)=>h(e,typeof r!="symbol"?r+"":r,s);class p{constructor(r,s,t){f(this,"_timer",null),f(this,"_isStopped",!0),f(this,"_options",{immediate:!1,autoStart:!0}),this._callback=r,this._delay=s,t&&(this._options={...this._options,...t}),this._options.autoStart&&this.start()}get isStopped(){return this._isStopped}async _invokeCallback(){try{await this._callback()}catch(r){throw console.error("An Error Occured while polling"),r}}_runLoop(){this._isStopped||(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(async()=>{await this._invokeCallback(),this._runLoop()},this._delay))}async start(){this._isStopped=!1,this._options.immediate&&await this._invokeCallback(),this._runLoop()}stop(){this._timer&&clearTimeout(this._timer),this._isStopped=!0}destroy(){this.stop(),this._timer=null}}function y(e,r,s=!0){const t=n.useRef(null);return n.useEffect(()=>(t.current||(t.current=new p(e,r,{immediate:s})),()=>{t.current&&(t.current.destroy(),t.current=null)}),[e,r,s]),[()=>{var i;(i=t.current)==null||i.start()},()=>{var i;(i=t.current)==null||i.stop()}]}function _(e,r=1e3){const[s,t]=n.useState(!1),i=n.useRef(null),u=n.useRef(null),c=n.useCallback((...l)=>{i.current&&clearTimeout(i.current),u.current=l,t(!0),i.current=setTimeout(async()=>{try{await e(...u.current)}catch(a){throw console.log(a),a}finally{t(!1)}},r)},[]);return n.useEffect(()=>()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]),[c,s]}function b(e,r=1e3){const s=n.useRef(!1),[t,i]=n.useState(!1),u=n.useRef(null),c=n.useCallback(async(...l)=>{if(!s.current){s.current=!0,i(!0);try{await e(...l)}catch(a){throw console.log(a),a}finally{u.current=setTimeout(()=>{s.current=!1,i(!1)},r)}}},[]);return n.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),[c,t]}function S(){return navigator.onLine}function g(e){return document.addEventListener("online",e),document.addEventListener("offline",e),()=>{document.removeEventListener("online",e),document.removeEventListener("offline",e)}}function v(){return n.useSyncExternalStore(g,S)}function w(e){return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}function C(){return document.visibilityState!=="hidden"}function E(){return n.useSyncExternalStore(w,C)}function T(e,r=null,s="local"){const t=s==="session"?sessionStorage:localStorage,[i,u]=n.useState(()=>{const l=t.getItem(e);return l!=null?JSON.parse(l):r}),c=()=>{t.removeItem(e),u(null)};return n.useEffect(()=>{t.setItem(e,JSON.stringify(i))},[i]),[i,u,c]}o.useDebounce=_,o.useDeferredComponent=d,o.useInterval=y,o.useIsOnline=v,o.useStorage=T,o.useThrottle=b,o.useisWindowVisible=E,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}));
