(function(i,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],s):(i=typeof globalThis<"u"?globalThis:i||self,s(i.hooks={},i.react))})(this,(function(i,s){"use strict";function a(r){const[t,o]=s.useState(null);return s.useEffect(()=>{"requestIdleCallback"in window?requestIdleCallback(async()=>{try{const e=await r();o(()=>e.default)}catch(e){throw console.log("useDeferedComponent: ",e),new Error("useDeferedComponent: "+e)}},{timeout:100}):setTimeout(async()=>{try{const e=await r();o(()=>e.default)}catch(e){throw console.log("useDeferedComponent: ",e),new Error("useDeferedComponent: "+e)}},1)},[]),t}var l=Object.defineProperty,c=(r,t,o)=>t in r?l(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,u=(r,t,o)=>c(r,typeof t!="symbol"?t+"":t,o);class p{constructor(t,o,e){u(this,"_timer",null),u(this,"_isStopped",!0),u(this,"_options",{immediate:!1,autoStart:!0}),this._callback=t,this._delay=o,e&&(this._options={...this._options,...e}),this._options.autoStart&&this.start()}get isStopped(){return this._isStopped}async _invokeCallback(){try{await this._callback()}catch(t){throw console.error("An Error Occured while polling"),t}}_runLoop(){this._isStopped||(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(async()=>{await this._invokeCallback(),this._runLoop()},this._delay))}async start(){this._isStopped=!1,this._options.immediate&&await this._invokeCallback(),this._runLoop()}stop(){this._timer&&clearTimeout(this._timer),this._isStopped=!0}destroy(){this.stop(),this._timer=null}}function h(r,t,o=!0){const e=s.useRef(null);return s.useEffect(()=>(e.current||(e.current=new p(r,t,{immediate:o})),()=>{e.current&&(e.current.destroy(),e.current=null)}),[r,t,o]),[()=>{var n;(n=e.current)==null||n.start()},()=>{var n;(n=e.current)==null||n.stop()}]}i.useDeferredComponent=a,i.useInterval=h,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
